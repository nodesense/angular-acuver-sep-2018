<h2>Cart</h2>

<button (click)="add()">
  Add
</button>

<button (click)="empty()">
  Empty
</button>
 

<table>
  <tr>
    <th>Name</th>
    <th>Price</th>
    <th>Qty</th>
    <th>Total</th>
    <th>Remove</th>
  </tr>

  <tr *ngFor="let item of cartItems$ | async | sort:'price':'desc' ">
     <td>{{item.name | uppercase }}</td>
     <td>{{item.price | currency:'INR'}}</td>
     <td>{{item.qty}}</td>
     <td>{{item.price * item.qty | currency:'INR' }}</td>
     <td>
       <button (click)="remove(item.id)">
         Remove
       </button>
     </td>
  </tr>

  <tr>
    <td colspan="3">
      <!-- async pipe automatically subscribe & unsubscribe -->
      Total [{{totalItems$ | async}}]
    </td>
    <td colspan="2">
      {{amount | currency:'INR'}}
    </td>
  </tr>

</table>